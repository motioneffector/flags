<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Your First Flag Store - @motioneffector/flags</title>
  <link rel="stylesheet" href="../demo-files/demo.css">
  <link rel="stylesheet" href="manual.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script>document.addEventListener('DOMContentLoaded', () => hljs.highlightAll());</script>
</head>
<body>
  <div class="page">
    <header class="header">
      <h1 class="header-title">@motioneffector/flags</h1>
      <p class="header-description">Documentation</p>
      <nav class="header-links">
        <a href="../index.html" class="header-link">Demo</a>
        <a href="https://www.npmjs.com/package/@motioneffector/flags" class="header-link">npm</a>
        <a href="https://github.com/motioneffector/flags" class="header-link">GitHub</a>
      </nav>
    </header>

    <div class="manual-layout">
      <aside class="manual-sidebar">
        <nav class="sidebar-nav">
<p><strong><a href="index.html">@motioneffector/flags</a></strong></p>
<p><strong>Getting Started</strong></p>
<ul>
<li><a href="installation.html">Installation</a></li>
<li><a href="your-first-flag-store.html">Your First Flag Store</a></li>
</ul>
<p><strong>Core Concepts</strong></p>
<ul>
<li><a href="concept-flag-store.html">Flag Store</a></li>
<li><a href="concept-condition-expressions.html">Condition Expressions</a></li>
<li><a href="concept-subscriptions.html">Subscriptions</a></li>
<li><a href="concept-computed-flags.html">Computed Flags</a></li>
<li><a href="concept-namespaces.html">Namespaces</a></li>
</ul>
<p><strong>Guides</strong></p>
<ul>
<li><a href="guide-persisting-state.html">Persisting State</a></li>
<li><a href="guide-undo-redo-history.html">Undo/Redo History</a></li>
<li><a href="guide-batch-operations.html">Batch Operations</a></li>
<li><a href="guide-working-with-numeric-flags.html">Working with Numeric Flags</a></li>
</ul>
<p><strong>API Reference</strong></p>
<ul>
<li><a href="api-store-creation.html">Store Creation</a></li>
<li><a href="api-reading-and-writing.html">Reading and Writing</a></li>
<li><a href="api-conditions.html">Conditions</a></li>
<li><a href="api-subscriptions.html">Subscriptions</a></li>
<li><a href="api-computed-flags.html">Computed Flags</a></li>
<li><a href="api-namespaces.html">Namespaces</a></li>
<li><a href="api-history.html">History</a></li>
<li><a href="api-persistence.html">Persistence</a></li>
<li><a href="api-batch-operations.html">Batch Operations</a></li>
<li><a href="api-types.html">Types</a></li>
<li><a href="api-errors.html">Errors</a></li>
</ul>

        </nav>
      </aside>

      <main class="manual-content">
        <article class="manual-article">
<h1>Your First Flag Store</h1>
<p>Create a working flag store and learn the core operations in about 5 minutes.</p>
<p>By the end of this guide, you&#39;ll have a store that tracks game state, evaluates conditions, and reacts to changes.</p>
<h2>What We&#39;re Building</h2>
<p>A simple game state manager that tracks the player&#39;s gold, inventory, and reputation. We&#39;ll set values, check conditions, and subscribe to changes.</p>
<h2>Step 1: Create a Store</h2>
<p>Start by creating a store with some initial values:</p>
<pre><code class="language-typescript">import { createFlagStore } from &#39;@motioneffector/flags&#39;

const store = createFlagStore({
  initial: {
    gold: 0,
    has_key: false,
    reputation: 50
  }
})
</code></pre>
<p>The store now holds three flags: a number (<code>gold</code>), a boolean (<code>has_key</code>), and another number (<code>reputation</code>).</p>
<h2>Step 2: Read and Update Values</h2>
<p>Use <code>get()</code> to read values and <code>set()</code> to update them:</p>
<pre><code class="language-typescript">// Read values
console.log(store.get(&#39;gold&#39;))       // 0
console.log(store.get(&#39;has_key&#39;))    // false

// Set values
store.set(&#39;gold&#39;, 100)
store.set(&#39;has_key&#39;, true)

// Use specialized methods for common operations
store.toggle(&#39;has_key&#39;)              // false (flips the boolean)
store.increment(&#39;gold&#39;, 25)          // 125 (adds to the number)
store.decrement(&#39;reputation&#39;, 10)    // 40 (subtracts from the number)
</code></pre>
<h2>Step 3: Check Conditions</h2>
<p>Use <code>check()</code> to evaluate complex conditions:</p>
<pre><code class="language-typescript">// Simple checks
store.check(&#39;has_key&#39;)               // true if has_key is truthy
store.check(&#39;gold &gt;= 100&#39;)           // true if gold is at least 100

// Combine with AND, OR, NOT
store.check(&#39;gold &gt;= 100 AND has_key&#39;)
store.check(&#39;reputation &gt; 50 OR has_key&#39;)
store.check(&#39;NOT has_key&#39;)

// Use parentheses for complex logic
store.check(&#39;(gold &gt;= 100 OR has_key) AND reputation &gt; 25&#39;)
</code></pre>
<p>Conditions read like English. The store parses and evaluates them against current values.</p>
<h2>Step 4: React to Changes</h2>
<p>Subscribe to be notified when flags change:</p>
<pre><code class="language-typescript">// Watch all changes
const unsubscribe = store.subscribe((key, newValue, oldValue) =&gt; {
  console.log(`${key}: ${oldValue} -&gt; ${newValue}`)
})

store.set(&#39;gold&#39;, 200)  // Logs: &quot;gold: 125 -&gt; 200&quot;

// Stop watching
unsubscribe()

// Watch a specific key
store.subscribeKey(&#39;gold&#39;, (newValue, oldValue) =&gt; {
  console.log(`Gold changed to ${newValue}`)
})
</code></pre>
<h2>The Complete Code</h2>
<p>Here&#39;s everything together:</p>
<pre><code class="language-typescript">import { createFlagStore } from &#39;@motioneffector/flags&#39;

// Create store with initial values
const store = createFlagStore({
  initial: {
    gold: 0,
    has_key: false,
    reputation: 50
  }
})

// Subscribe to changes
store.subscribe((key, newValue, oldValue) =&gt; {
  console.log(`${key}: ${oldValue} -&gt; ${newValue}`)
})

// Update values
store.increment(&#39;gold&#39;, 100)
store.set(&#39;has_key&#39;, true)

// Check conditions
if (store.check(&#39;gold &gt;= 100 AND has_key&#39;)) {
  console.log(&#39;Ready to open the treasure chest!&#39;)
}

// Check another condition
if (store.check(&#39;reputation &gt; 25 AND NOT has_key&#39;)) {
  console.log(&#39;You have good standing but need a key&#39;)
}
</code></pre>
<h2>What&#39;s Next?</h2>
<p>Now that you have the basics:</p>
<ul>
<li><strong><a href="concept-flag-store.html">Understand the Flag Store</a></strong> - Learn how values and keys work</li>
<li><strong><a href="concept-condition-expressions.html">Write Condition Expressions</a></strong> - Master the condition syntax</li>
<li><strong><a href="guide-persisting-state.html">Persist State</a></strong> - Save flags to localStorage</li>
<li><strong><a href="api-store-creation.html">Explore the API</a></strong> - Full reference when you need details</li>
</ul>

        </article>
      </main>
    </div>
  </div>
</body>
</html>
